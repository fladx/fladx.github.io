{"openapi":"3.1.0","info":{"title":"Tutors API","description":"API для системы обучения","contact":{"name":"fladx","url":"https://tutors.com","email":"support@tutors.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"bearer-jwt":[]}],"paths":{"/api/v1/teachers/students":{"get":{"tags":["teacher-controller"],"operationId":"getStudents","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StudentResponse"}}}}}}},"post":{"tags":["teacher-controller"],"operationId":"createStudent","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudentResponse"}}}}}}},"/api/v1/teachers/students/courses":{"post":{"tags":["teacher-controller"],"operationId":"addCourseToStudent","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddStudentCourseRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudentResponse"}}}}}}},"/api/v1/teachers/students/add/{studentId}":{"post":{"tags":["teacher-controller"],"operationId":"addStudent","parameters":[{"name":"studentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudentResponse"}}}}}}},"/api/v1/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/users/me":{"get":{"tags":["user-controller"],"operationId":"getCurrentUserProfile","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileResponse"}}}}}}},"/api/v1/students/{userId}":{"get":{"tags":["student-controller"],"operationId":"getStudentById","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StudentResponse"}}}}}}},"/api/v1/courses":{"get":{"tags":["course-controller"],"operationId":"getAllCourses","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseDto"}}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]},"RegisterRequest":{"type":"object","description":"Запрос на регистрацию нового пользователя","properties":{"firstName":{"type":"string","description":"Имя пользователя","example":"Иван","minLength":1},"lastName":{"type":"string","description":"Фамилия пользователя","example":"Иванов","minLength":1},"username":{"type":"string","description":"Логин пользователя","example":"ivanov123","minLength":1},"phone":{"type":"string","description":"Номер телефона пользователя","example":"+79001234567","minLength":1,"pattern":"^\\+?[0-9]{10,15}$"},"role":{"type":"string","description":"Роль пользователя","enum":["STUDENT","TEACHER"],"example":"STUDENT"},"password":{"type":"string","description":"Пароль пользователя","example":"securePassword123","maxLength":2147483647,"minLength":4}},"required":["firstName","lastName","password","phone","role","username"]},"StudentCourseDto":{"type":"object","properties":{"courseId":{"type":"integer","format":"int64"},"courseName":{"type":"string"},"courseDescription":{"type":"string"},"startDate":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","ABANDONED","PAUSED"]},"price":{"type":"number"}},"required":["courseId","courseName","price","startDate","status"]},"StudentResponse":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"firstName":{"type":"string"},"lastName":{"type":"string"},"username":{"type":"string"},"balance":{"type":"number"},"level":{"type":"integer","format":"int32"},"courses":{"type":"array","items":{"$ref":"#/components/schemas/StudentCourseDto"},"uniqueItems":true}},"required":["balance","courses","firstName","lastName","level","userId","username"]},"AddStudentCourseRequest":{"type":"object","properties":{"studentId":{"type":"integer","format":"int64"},"courseId":{"type":"integer","format":"int64"},"startDate":{"type":"string","format":"date-time"},"endDate":{"type":"string","format":"date-time"},"status":{"type":"string","enum":["IN_PROGRESS","COMPLETED","ABANDONED","PAUSED"]},"price":{"type":"number"}},"required":["courseId","price","status","studentId"]},"AuthResponse":{"type":"object","description":"Ответ на успешную аутентификацию или регистрацию","properties":{"token":{"type":"string","description":"JWT токен для аутентификации","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"username":{"type":"string","description":"Имя пользователя","example":"ivanov123"},"role":{"type":"string","description":"Роль пользователя","example":"STUDENT"}},"required":["role","token","username"]},"LoginRequest":{"type":"object","description":"Запрос на аутентификацию пользователя","properties":{"username":{"type":"string","description":"Имя пользователя","example":"user123","minLength":1},"password":{"type":"string","description":"Пароль пользователя","example":"password123","minLength":1}},"required":["password","username"]},"UserProfileResponse":{"type":"object","description":"Информация о профиле пользователя","properties":{"id":{"type":"integer","format":"int64","description":"Идентификатор пользователя","example":1},"firstName":{"type":"string","description":"Имя пользователя","example":"Иван"},"lastName":{"type":"string","description":"Фамилия пользователя","example":"Иванов"},"username":{"type":"string","description":"Логин пользователя","example":"ivanov123"},"phone":{"type":"string","description":"Телефон пользователя","example":"+79001234567"},"telegramId":{"type":"integer","format":"int64","description":"Идентификатор Telegram","example":123456789},"role":{"type":"string","description":"Роль пользователя","enum":["STUDENT","TEACHER"],"example":"STUDENT"},"createdAt":{"type":"string","format":"date-time","description":"Дата создания профиля","example":"2024-01-01T12:00:00Z"},"updatedAt":{"type":"string","format":"date-time","description":"Дата последнего обновления профиля","example":"2024-01-15T14:30:00Z"}},"required":["createdAt","firstName","id","lastName","role","username"]},"CourseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"}},"required":["name"]}},"securitySchemes":{"bearer-jwt":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}